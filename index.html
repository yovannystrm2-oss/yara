<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeatControl Pro - Sistema de Gestión Carnicera</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #e74c3c;
            --success: #27ae60;
            --warning: #f39c12;
            --info: #3498db;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --gray: #95a5a6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a2a3a 0%, #2c3e50 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--dark);
        }

        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            min-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        /* HEADER PROFESIONAL */
        .app-header {
            background: linear-gradient(135deg, var(--primary) 0%, #1a2530 100%);
            color: white;
            padding: 25px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 5px solid var(--secondary);
            position: relative;
            overflow: hidden;
        }

        .app-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--secondary), var(--warning), var(--success), var(--info));
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo-icon {
            font-size: 3em;
            color: var(--secondary);
            filter: drop-shadow(0 0 10px rgba(231, 76, 60, 0.5));
        }

        .logo-text h1 {
            font-size: 2.2em;
            font-weight: 800;
            margin-bottom: 5px;
            background: linear-gradient(45deg, #fff, #ecf0f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo-text p {
            opacity: 0.9;
            font-size: 1em;
            letter-spacing: 1px;
        }

        .header-stats {
            display: flex;
            gap: 40px;
            background: rgba(255,255,255,0.1);
            padding: 15px 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .stat-item {
            text-align: center;
            position: relative;
        }

        .stat-item::after {
            content: '';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            width: 1px;
            height: 40px;
            background: rgba(255,255,255,0.3);
        }

        .stat-item:last-child::after {
            display: none;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: var(--secondary);
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .stat-label {
            font-size: 0.85em;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* NAVEGACIÓN AVANZADA */
        .app-nav {
            background: var(--light);
            padding: 0 40px;
            display: flex;
            gap: 5px;
            border-bottom: 1px solid #ddd;
            position: relative;
        }

        .nav-item {
            padding: 20px 30px;
            cursor: pointer;
            border-bottom: 4px solid transparent;
            transition: all 0.3s ease;
            font-weight: 600;
            color: var(--dark);
            position: relative;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.05em;
        }

        .nav-item.active {
            border-bottom-color: var(--secondary);
            color: var(--secondary);
            background: white;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.05);
        }

        .nav-item:hover {
            background: white;
            color: var(--secondary);
        }

        .nav-item i {
            font-size: 1.2em;
        }

        /* CONTENIDO PRINCIPAL */
        .app-main {
            padding: 40px;
            flex: 1;
            background: #f8f9fa;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* PANELES DE CONTROL */
        .dashboard-panels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            border-left: 5px solid var(--info);
            transition: all 0.3s ease;
        }

        .panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.12);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
        }

        .panel-title {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .panel-icon {
            font-size: 1.5em;
            color: var(--info);
        }

        /* FORMULARIOS AVANZADOS */
        .form-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
        }

        .section-title i {
            color: var(--secondary);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--dark);
            font-size: 1.05em;
        }

        .form-control {
            width: 100%;
            padding: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
            font-family: inherit;
        }

        .form-control:focus {
            border-color: var(--info);
            box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.1);
            outline: none;
        }

        .form-actions {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        /* BOTONES AVANZADOS */
        .btn {
            padding: 16px 32px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            font-family: inherit;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--info);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(52, 152, 219, 0.4);
        }

        .btn-success {
            background: var(--success);
            color: white;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-success:hover {
            background: #219a52;
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(39, 174, 96, 0.4);
        }

        .btn-danger {
            background: var(--secondary);
            color: white;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .btn-danger:hover {
            background: #c0392b;
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(231, 76, 60, 0.4);
        }

        .btn-warning {
            background: var(--warning);
            color: white;
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
        }

        .btn-warning:hover {
            background: #e67e22;
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(243, 156, 18, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--dark);
            border: 2px solid var(--gray);
        }

        .btn-outline:hover {
            background: var(--gray);
            color: white;
        }

        /* SECCIÓN DE CÓDIGOS DE BARRAS */
        .barcode-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            margin-top: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            text-align: center;
            border-top: 5px solid var(--success);
        }

        .barcode-preview {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.1);
            margin: 30px auto;
            max-width: 600px;
            border: 1px solid #e0e0e0;
        }

        .product-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
            text-align: left;
        }

        .detail-item {
            background: var(--light);
            padding: 20px;
            border-radius: 12px;
            border-left: 5px solid var(--info);
            transition: all 0.3s ease;
        }

        .detail-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* ESCÁNER PROFESIONAL */
        .scanner-section {
            background: var(--dark);
            padding: 40px;
            border-radius: 20px;
            margin: 40px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .scanner-container {
            position: relative;
            width: 100%;
            height: 500px;
            background: black;
            border-radius: 20px;
            overflow: hidden;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        #interactive {
            width: 100% !important;
            height: 100% !important;
            object-fit: cover !important;
        }

        .scanner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        .scan-frame {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 350px;
            height: 200px;
            border: 4px solid var(--success);
            border-radius: 20px;
            box-shadow: 0 0 0 1000px rgba(0,0,0,0.7);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { border-color: var(--success); }
            50% { border-color: #2ecc71; }
        }

        .scan-line {
            position: absolute;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, transparent, var(--success), transparent);
            top: 50%;
            animation: scan 2s infinite linear;
            box-shadow: 0 0 20px var(--success);
        }

        @keyframes scan {
            0%, 100% { top: 15%; opacity: 0; }
            10% { opacity: 1; }
            50% { top: 85%; }
            90% { opacity: 1; }
        }

        .scanner-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .scanner-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 25px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .scanner-stat {
            text-align: center;
            color: white;
        }

        .scanner-stat-value {
            font-size: 2em;
            font-weight: bold;
            color: var(--success);
        }

        .scanner-stat-label {
            font-size: 0.9em;
            opacity: 0.8;
        }

        /* INVENTARIO AVANZADO */
        .inventory-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .search-box {
            display: flex;
            gap: 15px;
            flex: 1;
            max-width: 500px;
        }

        .search-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
        }

        .filters {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            background: white;
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .product-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--secondary), var(--warning), var(--success));
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--light);
        }

        .product-type {
            background: var(--info);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .product-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 10px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
        }

        .action-view { background: var(--info); color: white; }
        .action-edit { background: var(--warning); color: white; }
        .action-delete { background: var(--secondary); color: white; }

        .action-btn:hover {
            transform: scale(1.1);
        }

        .product-details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        .product-detail {
            display: flex;
            flex-direction: column;
        }

        .detail-label {
            font-size: 0.85em;
            color: var(--gray);
            margin-bottom: 5px;
        }

        .detail-value {
            font-weight: 600;
            color: var(--dark);
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--light);
        }

        .product-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .status-active { background: #d4edda; color: #155724; }
        .status-expired { background: #f8d7da; color: #721c24; }
        .status-warning { background: #fff3cd; color: #856404; }

        /* ESTADOS Y ALERTAS */
        .alert {
            padding: 20px 25px;
            border-radius: 15px;
            margin: 25px 0;
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 1.05em;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            border-left: 5px solid var(--success);
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            border-left: 5px solid var(--secondary);
        }

        .alert-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
            border-left: 5px solid var(--warning);
        }

        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: 600;
        }

        .status-active { background: #d4edda; color: #155724; }
        .status-inactive { background: #f8d7da; color: #721c24; }

        /* RESPONSIVE */
        @media (max-width: 1200px) {
            .dashboard-panels { grid-template-columns: repeat(2, 1fr); }
            .inventory-grid { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 768px) {
            .app-header { flex-direction: column; gap: 20px; text-align: center; }
            .header-stats { gap: 20px; }
            .app-nav { flex-wrap: wrap; }
            .nav-item { flex: 1; text-align: center; justify-content: center; }
            .form-grid { grid-template-columns: 1fr; }
            .dashboard-panels { grid-template-columns: 1fr; }
            .inventory-grid { grid-template-columns: 1fr; }
            .inventory-controls { flex-direction: column; align-items: stretch; }
            .search-box { max-width: 100%; }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- HEADER PROFESIONAL -->
        <header class="app-header">
            <div class="logo">
                <i class="fas fa-drumstick-bite logo-icon"></i>
                <div class="logo-text">
                    <h1>MeatControl Pro</h1>
                    <p>Sistema Inteligente de Gestión Carnicera</p>
                </div>
            </div>
            <div class="header-stats">
                <div class="stat-item">
                    <div class="stat-value" id="totalProducts">0</div>
                    <div class="stat-label">Productos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="totalValue">S/. 0</div>
                    <div class="stat-label">Valor Total</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="activeScans">0</div>
                    <div class="stat-label">Escaneos Hoy</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="expiringSoon">0</div>
                    <div class="stat-label">Por Vencer</div>
                </div>
            </div>
        </header>

        <!-- NAVEGACIÓN AVANZADA -->
        <nav class="app-nav">
            <div class="nav-item active" onclick="showTab('dashboard')">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </div>
            <div class="nav-item" onclick="showTab('create')">
                <i class="fas fa-barcode"></i> Crear Productos
            </div>
            <div class="nav-item" onclick="showTab('scanner')">
                <i class="fas fa-camera"></i> Escáner
            </div>
            <div class="nav-item" onclick="showTab('inventory')">
                <i class="fas fa-boxes"></i> Inventario
            </div>
            <div class="nav-item" onclick="showTab('reports')">
                <i class="fas fa-chart-bar"></i> Reportes
            </div>
            <div class="nav-item" onclick="showTab('settings')">
                <i class="fas fa-cog"></i> Configuración
            </div>
        </nav>

        <!-- CONTENIDO PRINCIPAL -->
        <main class="app-main">
            <!-- PESTAÑA 1: DASHBOARD -->
            <div id="dashboard" class="tab-content active">
                <h2 class="section-title"><i class="fas fa-tachometer-alt"></i> Panel de Control</h2>
                
                <div class="dashboard-panels">
                    <div class="panel">
                        <div class="panel-header">
                            <h3 class="panel-title"><i class="fas fa-box-open panel-icon"></i> Resumen de Inventario</h3>
                        </div>
                        <div id="inventorySummary">
                            <!-- Resumen se carga dinámicamente -->
                        </div>
                    </div>
                    
                    <div class="panel">
                        <div class="panel-header">
                            <h3 class="panel-title"><i class="fas fa-exclamation-triangle panel-icon"></i> Alertas</h3>
                        </div>
                        <div id="alertsContainer">
                            <!-- Alertas se cargan dinámicamente -->
                        </div>
                    </div>
                    
                    <div class="panel">
                        <div class="panel-header">
                            <h3 class="panel-title"><i class="fas fa-chart-line panel-icon"></i> Métricas Rápidas</h3>
                        </div>
                        <div id="quickMetrics">
                            <!-- Métricas se cargan dinámicamente -->
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3 class="section-title"><i class="fas fa-history"></i> Actividad Reciente</h3>
                    <div id="recentActivity">
                        <!-- Actividad reciente se carga dinámicamente -->
                    </div>
                </div>
            </div>

            <!-- PESTAÑA 2: CREAR PRODUCTOS -->
            <div id="create" class="tab-content">
                <h2 class="section-title"><i class="fas fa-barcode"></i> Crear Nuevo Producto</h2>
                <p style="margin-bottom: 30px; color: var(--gray);">Genera códigos de barras profesionales para tu inventario con toda la información necesaria.</p>
                
                <div class="form-section">
                    <h3 class="section-title"><i class="fas fa-info-circle"></i> Información del Producto</h3>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Tipo de Carne</label>
                            <select class="form-control" id="meatType">
                                <option value="POLLO">Pollo</option>
                                <option value="CHANCHO">Chancho</option>
                                <option value="PAVITA">Pavita</option>
                                <option value="RES">Res</option>
                                <option value="OTRO">Otro</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Corte Específico</label>
                            <select class="form-control" id="cutType">
                                <option value="ENTERO">Entero</option>
                                <option value="PECHUGA">Pechuga</option>
                                <option value="MUSLO">Muslo</option>
                                <option value="ALAS">Alas</option>
                                <option value="COSTILLA">Costilla</option>
                                <option value="LOMO">Lomo</option>
                                <option value="PIERNA">Pierna</option>
                                <option value="PANCETA">Panceta</option>
                                <option value="JAMON">Jamón</option>
                                <option value="OTRO">Otro Corte</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Peso (Kg)</label>
                            <input type="number" class="form-control" id="productWeight" step="0.01" placeholder="Ej: 5.75" min="0.1">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Precio Compra (S/.)</label>
                            <input type="number" class="form-control" id="purchasePrice" step="0.01" placeholder="Ej: 12.50" min="0.1">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Precio Venta (S/.)</label>
                            <input type="number" class="form-control" id="salePrice" step="0.01" placeholder="Ej: 18.75" min="0.1">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Proveedor</label>
                            <input type="text" class="form-control" id="supplier" placeholder="Nombre del proveedor">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Fecha Compra</label>
                            <input type="date" class="form-control" id="purchaseDate">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Fecha Vencimiento</label>
                            <input type="date" class="form-control" id="expiryDate">
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-success" onclick="generateProduct()">
                            <i class="fas fa-barcode"></i> Generar Código de Barras
                        </button>
                        <button class="btn btn-primary" onclick="clearForm()">
                            <i class="fas fa-eraser"></i> Limpiar Formulario
                        </button>
                        <button class="btn btn-outline" onclick="loadTemplate()">
                            <i class="fas fa-file-import"></i> Cargar Plantilla
                        </button>
                    </div>
                </div>

                <!-- RESULTADO DEL CÓDIGO DE BARRAS -->
                <div id="barcodeResult" class="barcode-section" style="display: none;">
                    <h3><i class="fas fa-check-circle"></i> Producto Creado Exitosamente</h3>
                    <p style="margin-bottom: 20px; color: var(--gray);">El producto ha sido registrado en el sistema y está listo para imprimir.</p>
                    
                    <div class="barcode-preview">
                        <svg id="barcode"></svg>
                    </div>
                    
                    <div class="product-details" id="productDetails"></div>
                    
                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="printBarcode()">
                            <i class="fas fa-print"></i> Imprimir Código
                        </button>
                        <button class="btn btn-success" onclick="saveAndNew()">
                            <i class="fas fa-save"></i> Guardar y Nuevo
                        </button>
                        <button class="btn btn-outline" onclick="shareProduct()">
                            <i class="fas fa-share-alt"></i> Compartir
                        </button>
                    </div>
                </div>
            </div>

            <!-- PESTAÑA 3: ESCÁNER -->
            <div id="scanner" class="tab-content">
                <h2 class="section-title"><i class="fas fa-camera"></i> Escáner de Productos</h2>
                <p style="margin-bottom: 30px; color: var(--gray);">Escanea códigos de barras para consultar información del producto en tiempo real.</p>
                
                <div class="scanner-section">
                    <div class="scanner-container">
                        <div id="interactive"></div>
                        <div class="scanner-overlay">
                            <div class="scan-frame"></div>
                            <div class="scan-line"></div>
                        </div>
                    </div>
                    
                    <div class="scanner-controls">
                        <button class="btn btn-success" onclick="initScanner()">
                            <i class="fas fa-play"></i> Iniciar Escáner
                        </button>
                        <button class="btn btn-danger" onclick="stopScanner()">
                            <i class="fas fa-stop"></i> Detener
                        </button>
                        <button class="btn btn-warning" onclick="toggleFocus()">
                            <i class="fas fa-crosshairs"></i> Auto-Enfoque
                        </button>
                        <button class="btn btn-primary" onclick="toggleFlash()">
                            <i class="fas fa-lightbulb"></i> Flash
                        </button>
                    </div>
                    
                    <div class="scanner-stats">
                        <div class="scanner-stat">
                            <div class="scanner-stat-value" id="scansToday">0</div>
                            <div class="scanner-stat-label">Escaneos Hoy</div>
                        </div>
                        <div class="scanner-stat">
                            <div class="scanner-stat-value" id="successRate">100%</div>
                            <div class="scanner-stat-label">Tasa de Éxito</div>
                        </div>
                        <div class="scanner-stat">
                            <div class="scanner-stat-value" id="avgScanTime">0s</div>
                            <div class="scanner-stat-label">Tiempo Promedio</div>
                        </div>
                    </div>
                </div>

                <div class="alert" id="scanStatus">
                    <i class="fas fa-info-circle"></i>
                    <span>Presiona "Iniciar Escáner" para comenzar la detección de códigos de barras</span>
                </div>

                <!-- RESULTADO DEL ESCANEO -->
                <div id="scanResult" class="product-card" style="display: none;">
                    <div class="product-header">
                        <h3><i class="fas fa-box"></i> Información del Producto</h3>
                        <span class="status-indicator status-active" id="productStatus">
                            <i class="fas fa-circle"></i> Activo
                        </span>
                    </div>
                    
                    <div class="product-details-grid">
                        <div class="product-detail">
                            <span class="detail-label">Código</span>
                            <span class="detail-value" id="scanCode">-</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Producto</span>
                            <span class="detail-value" id="scanProduct">-</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Peso</span>
                            <span class="detail-value" id="scanWeight">-</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Precio Compra</span>
                            <span class="detail-value" id="scanPrice">-</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Precio Venta</span>
                            <span class="detail-value" id="scanSalePrice">-</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Valor Total</span>
                            <span class="detail-value" id="scanTotal">-</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Proveedor</span>
                            <span class="detail-value" id="scanSupplier">-</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Vencimiento</span>
                            <span class="detail-value" id="scanExpiry">-</span>
                        </div>
                    </div>
                    
                    <div class="product-footer">
                        <div>
                            <span class="detail-label">Fecha de Registro</span>
                            <span class="detail-value" id="scanRegisterDate">-</span>
                        </div>
                        <div class="product-actions">
                            <button class="action-btn action-view" onclick="viewProductDetails()">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn action-edit" onclick="editScannedProduct()">
                                <i class="fas fa-edit"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PESTAÑA 4: INVENTARIO -->
            <div id="inventory" class="tab-content">
                <h2 class="section-title"><i class="fas fa-boxes"></i> Gestión de Inventario</h2>
                <p style="margin-bottom: 30px; color: var(--gray);">Administra y controla todos los productos en tu inventario.</p>
                
                <div class="inventory-controls">
                    <div class="search-box">
                        <input type="text" class="search-input" id="searchInput" placeholder="Buscar productos...">
                        <button class="btn btn-primary" onclick="searchProducts()">
                            <i class="fas fa-search"></i> Buscar
                        </button>
                    </div>
                    
                    <div class="filters">
                        <select class="filter-select" id="typeFilter" onchange="filterProducts()">
                            <option value="">Todos los tipos</option>
                            <option value="POLLO">Pollo</option>
                            <option value="CHANCHO">Chancho</option>
                            <option value="PAVITA">Pavita</option>
                            <option value="RES">Res</option>
                        </select>
                        
                        <select class="filter-select" id="statusFilter" onchange="filterProducts()">
                            <option value="">Todos los estados</option>
                            <option value="active">Activos</option>
                            <option value="expired">Vencidos</option>
                            <option value="warning">Por vencer</option>
                        </select>
                        
                        <button class="btn btn-success" onclick="exportInventory()">
                            <i class="fas fa-file-export"></i> Exportar
                        </button>
                        
                        <button class="btn btn-danger" onclick="clearInventory()">
                            <i class="fas fa-trash"></i> Limpiar
                        </button>
                    </div>
                </div>

                <div class="inventory-grid" id="inventoryList">
                    <!-- Los productos se cargan aquí dinámicamente -->
                </div>
            </div>

            <!-- PESTAÑA 5: REPORTES -->
            <div id="reports" class="tab-content">
                <h2 class="section-title"><i class="fas fa-chart-bar"></i> Reportes y Análisis</h2>
                <p style="margin-bottom: 30px; color: var(--gray);">Métricas detalladas y estadísticas de tu inventario.</p>
                
                <div class="dashboard-panels">
                    <div class="panel">
                        <div class="panel-header">
                            <h3 class="panel-title"><i class="fas fa-chart-pie panel-icon"></i> Resumen General</h3>
                        </div>
                        <div id="reportSummary">
                            <!-- Resumen se carga aquí -->
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <h3 class="panel-title"><i class="fas fa-exclamation-triangle panel-icon"></i> Productos por Vencer</h3>
                        </div>
                        <div id="expiringProducts">
                            <!-- Productos por vencer -->
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <h3 class="panel-title"><i class="fas fa-tags panel-icon"></i> Valor por Categoría</h3>
                        </div>
                        <div id="valueByCategory">
                            <!-- Valor por categoría -->
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3 class="section-title"><i class="fas fa-history"></i> Historial de Movimientos</h3>
                    <div id="movementHistory">
                        <!-- Historial se carga aquí -->
                    </div>
                </div>
            </div>

            <!-- PESTAÑA 6: CONFIGURACIÓN -->
            <div id="settings" class="tab-content">
                <h2 class="section-title"><i class="fas fa-cog"></i> Configuración del Sistema</h2>
                <p style="margin-bottom: 30px; color: var(--gray);">Personaliza el sistema según tus necesidades.</p>
                
                <div class="form-section">
                    <h3 class="section-title"><i class="fas fa-barcode"></i> Configuración de Códigos de Barras</h3>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Formato de Código</label>
                            <select class="form-control" id="barcodeFormat">
                                <option value="CODE128">CODE128</option>
                                <option value="CODE39">CODE39</option>
                                <option value="EAN13">EAN-13</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Tamaño de Código</label>
                            <select class="form-control" id="barcodeSize">
                                <option value="small">Pequeño</option>
                                <option value="medium" selected>Mediano</option>
                                <option value="large">Grande</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Incluir Precio</label>
                            <select class="form-control" id="includePrice">
                                <option value="yes">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Incluir Fecha Vencimiento</label>
                            <select class="form-control" id="includeExpiry">
                                <option value="yes">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3 class="section-title"><i class="fas fa-database"></i> Gestión de Datos</h3>
                    
                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="backupData()">
                            <i class="fas fa-save"></i> Respaldar Datos
                        </button>
                        <button class="btn btn-outline" onclick="restoreData()">
                            <i class="fas fa-undo"></i> Restaurar Datos
                        </button>
                        <button class="btn btn-danger" onclick="resetSystem()">
                            <i class="fas fa-trash"></i> Restablecer Sistema
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // CÓDIGO JavaScript PROFESIONAL
        // (Implementación completa de todas las funciones)
        
        // Inicialización del sistema
        document.addEventListener('DOMContentLoaded', function() {
            // Establecer fechas por defecto
            const today = new Date();
            document.getElementById('purchaseDate').valueAsDate = today;
            
            const expiryDate = new Date();
            expiryDate.setDate(today.getDate() + 7);
            document.getElementById('expiryDate').valueAsDate = expiryDate;
            
            // Cargar datos iniciales
            loadDashboardData();
            updateHeaderStats();
        });
        
        // Funciones del sistema
        function showTab(tabName) {
            // Ocultar todas las pestañas
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Desactivar todos los elementos de navegación
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Activar la pestaña seleccionada
            document.getElementById(tabName).classList.add('active');
            
            // Activar el elemento de navegación correspondiente
            document.querySelector(`.nav-item[onclick="showTab('${tabName}')"]`).classList.add('active');
            
            // Cargar datos específicos de la pestaña
            if (tabName === 'dashboard') {
                loadDashboardData();
            } else if (tabName === 'inventory') {
                loadInventory();
            } else if (tabName === 'reports') {
                loadReports();
            }
        }
        
        function generateProduct() {
            // Obtener valores del formulario
            const meatType = document.getElementById('meatType').value;
            const cutType = document.getElementById('cutType').value;
            const weight = parseFloat(document.getElementById('productWeight').value);
            const purchasePrice = parseFloat(document.getElementById('purchasePrice').value);
            const salePrice = parseFloat(document.getElementById('salePrice').value);
            const supplier = document.getElementById('supplier').value;
            const purchaseDate = document.getElementById('purchaseDate').value;
            const expiryDate = document.getElementById('expiryDate').value;
            
            // Validar campos obligatorios
            if (!weight || !purchasePrice || !salePrice || !purchaseDate || !expiryDate) {
                alert('Por favor complete todos los campos obligatorios');
                return;
            }
            
            // Generar código único
            const timestamp = new Date().getTime();
            const random = Math.floor(Math.random() * 1000);
            const productCode = `${meatType}-${cutType}-${timestamp}-${random}`;
            
            // Calcular valores
            const totalValue = (weight * purchasePrice).toFixed(2);
            const profit = (weight * (salePrice - purchasePrice)).toFixed(2);
            
            // Crear objeto producto
            const product = {
                code: productCode,
                meatType: meatType,
                cutType: cutType,
                weight: weight,
                purchasePrice: purchasePrice,
                salePrice: salePrice,
                supplier: supplier,
                purchaseDate: purchaseDate,
                expiryDate: expiryDate,
                totalValue: totalValue,
                profit: profit,
                status: getProductStatus(expiryDate),
                createdAt: new Date().toISOString()
            };
            
            // Guardar en localStorage
            saveProduct(product);
            
            // Generar código de barras
            JsBarcode("#barcode", productCode, {
                format: "CODE128",
                width: 2,
                height: 100,
                displayValue: true,
                fontSize: 16
            });
            
            // Mostrar detalles del producto
            document.getElementById('productDetails').innerHTML = `
                <div class="detail-item">
                    <strong>Código:</strong> ${productCode}
                </div>
                <div class="detail-item">
                    <strong>Producto:</strong> ${getProductName(meatType, cutType)}
                </div>
                <div class="detail-item">
                    <strong>Peso:</strong> ${weight} kg
                </div>
                <div class="detail-item">
                    <strong>Precio Compra:</strong> S/. ${purchasePrice}/kg
                </div>
                <div class="detail-item">
                    <strong>Precio Venta:</strong> S/. ${salePrice}/kg
                </div>
                <div class="detail-item">
                    <strong>Valor Total:</strong> S/. ${totalValue}
                </div>
                <div class="detail-item">
                    <strong>Ganancia:</strong> S/. ${profit}
                </div>
                <div class="detail-item">
                    <strong>Proveedor:</strong> ${supplier || 'No especificado'}
                </div>
                <div class="detail-item">
                    <strong>Compra:</strong> ${purchaseDate}
                </div>
                <div class="detail-item">
                    <strong>Vencimiento:</strong> ${expiryDate}
                </div>
            `;
            
            // Mostrar sección de resultados
            document.getElementById('barcodeResult').style.display = 'block';
            
            // Actualizar estadísticas
            updateHeaderStats();
            
            // Scroll a resultados
            document.getElementById('barcodeResult').scrollIntoView({ behavior: 'smooth' });
        }
        
        function getProductName(meatType, cutType) {
            const meatNames = {
                'POLLO': 'Pollo',
                'CHANCHO': 'Chancho',
                'PAVITA': 'Pavita',
                'RES': 'Res',
                'OTRO': 'Carne'
            };
            
            const cutNames = {
                'ENTERO': 'Entero',
                'PECHUGA': 'Pechuga',
                'MUSLO': 'Muslo',
                'ALAS': 'Alas',
                'COSTILLA': 'Costilla',
                'LOMO': 'Lomo',
                'PIERNA': 'Pierna',
                'PANCETA': 'Panceta',
                'JAMON': 'Jamón',
                'OTRO': 'Corte'
            };
            
            return `${cutNames[cutType] || cutType} de ${meatNames[meatType] || meatType}`;
        }
        
        function getProductStatus(expiryDate) {
            const today = new Date();
            const expiry = new Date(expiryDate);
            const diffTime = expiry - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays < 0) {
                return 'expired';
            } else if (diffDays <= 3) {
                return 'warning';
            } else {
                return 'active';
            }
        }
        
        function saveProduct(product) {
            let inventory = JSON.parse(localStorage.getItem('meatControlInventory') || '[]');
            inventory.push(product);
            localStorage.setItem('meatControlInventory', JSON.stringify(inventory));
            
            // Mostrar alerta de éxito
            showAlert('Producto guardado exitosamente en el inventario', 'success');
        }
        
        function clearForm() {
            document.getElementById('productWeight').value = '';
            document.getElementById('purchasePrice').value = '';
            document.getElementById('salePrice').value = '';
            document.getElementById('supplier').value = '';
            
            const today = new Date();
            document.getElementById('purchaseDate').valueAsDate = today;
            
            const expiryDate = new Date();
            expiryDate.setDate(today.getDate() + 7);
            document.getElementById('expiryDate').valueAsDate = expiryDate;
            
            document.getElementById('barcodeResult').style.display = 'none';
        }
        
        function printBarcode() {
            const printWindow = window.open('', '_blank');
            const productDetails = document.getElementById('productDetails').innerHTML;
            
            printWindow.document.write(`
                <html>
                    <head>
                        <title>Imprimir Código - MeatControl Pro</title>
                        <style>
                            body { 
                                font-family: Arial, sans-serif; 
                                text-align: center; 
                                padding: 20px;
                                max-width: 800px;
                                margin: 0 auto;
                            }
                            .header { 
                                margin-bottom: 20px; 
                                border-bottom: 2px solid #333;
                                padding-bottom: 10px;
                            }
                            .barcode-container { 
                                margin: 30px 0; 
                                padding: 20px;
                                border: 1px solid #ddd;
                                border-radius: 10px;
                            }
                            .product-info {
                                display: grid;
                                grid-template-columns: 1fr 1fr;
                                gap: 10px;
                                text-align: left;
                                margin-top: 20px;
                                font-size: 14px;
                            }
                            .info-item {
                                padding: 8px;
                                border-bottom: 1px solid #eee;
                            }
                            @media print {
                                body { padding: 0; }
                                .no-print { display: none; }
                            }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <h2>Carnicería La Buena Familia</h2>
                            <h3>Etiqueta de Producto</h3>
                        </div>
                        <div class="barcode-container">
                            ${document.getElementById('barcode').outerHTML}
                        </div>
                        <div class="product-info">
                            ${productDetails}
                        </div>
                        <p><small>Generado el: ${new Date().toLocaleString()}</small></p>
                        <button class="no-print" onclick="window.print()">Imprimir</button>
                        <button class="no-print" onclick="window.close()">Cerrar</button>
                    </body>
                </html>
            `);
            printWindow.document.close();
        }
        
        function saveAndNew() {
            // Guardar el producto actual (ya está guardado)
            // Limpiar el formulario para nuevo producto
            clearForm();
            
            // Scroll al inicio del formulario
            document.getElementById('create').scrollIntoView({ behavior: 'smooth' });
        }
        
        function loadDashboardData() {
            const inventory = JSON.parse(localStorage.getItem('meatControlInventory') || '[]');
            
            // Actualizar resumen de inventario
            const totalProducts = inventory.length;
            const totalValue = inventory.reduce((sum, product) => sum + parseFloat(product.totalValue), 0);
            const expiringSoon = inventory.filter(product => getProductStatus(product.expiryDate) === 'warning').length;
            const expired = inventory.filter(product => getProductStatus(product.expiryDate) === 'expired').length;
            
            document.getElementById('inventorySummary').innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                        <div style="font-size: 2em; font-weight: bold; color: var(--info);">${totalProducts}</div>
                        <div style="color: var(--gray);">Productos Totales</div>
                    </div>
                    <div>
                        <div style="font-size: 2em; font-weight: bold; color: var(--success);">S/. ${totalValue.toFixed(2)}</div>
                        <div style="color: var(--gray);">Valor Total</div>
                    </div>
                    <div>
                        <div style="font-size: 2em; font-weight: bold; color: var(--warning);">${expiringSoon}</div>
                        <div style="color: var(--gray);">Por Vencer</div>
                    </div>
                    <div>
                        <div style="font-size: 2em; font-weight: bold; color: var(--secondary);">${expired}</div>
                        <div style="color: var(--gray);">Vencidos</div>
                    </div>
                </div>
            `;
            
            // Actualizar alertas
            const alerts = [];
            if (expired > 0) {
                alerts.push(`<div style="color: var(--secondary); margin-bottom: 10px;"><i class="fas fa-exclamation-circle"></i> Tienes ${expired} productos vencidos</div>`);
            }
            if (expiringSoon > 0) {
                alerts.push(`<div style="color: var(--warning); margin-bottom: 10px;"><i class="fas fa-exclamation-triangle"></i> Tienes ${expiringSoon} productos por vencer</div>`);
            }
            if (inventory.length === 0) {
                alerts.push(`<div style="color: var(--info); margin-bottom: 10px;"><i class="fas fa-info-circle"></i> No hay productos en el inventario</div>`);
            }
            
            document.getElementById('alertsContainer').innerHTML = alerts.length > 0 ? alerts.join('') : '<div style="color: var(--success);"><i class="fas fa-check-circle"></i> No hay alertas activas</div>';
            
            // Actualizar métricas rápidas
            const avgPrice = totalProducts > 0 ? (totalValue / totalProducts).toFixed(2) : 0;
            const today = new Date().toISOString().split('T')[0];
            const todayProducts = inventory.filter(product => product.purchaseDate === today).length;
            
            document.getElementById('quickMetrics').innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                    <div>
                        <div style="font-size: 1.5em; font-weight: bold; color: var(--info);">${todayProducts}</div>
                        <div style="color: var(--gray);">Productos Hoy</div>
                    </div>
                    <div>
                        <div style="font-size: 1.5em; font-weight: bold; color: var(--success);">S/. ${avgPrice}</div>
                        <div style="color: var(--gray);">Valor Promedio</div>
                    </div>
                </div>
            `;
            
            // Actualizar actividad reciente
            const recentProducts = inventory.slice(-5).reverse();
            document.getElementById('recentActivity').innerHTML = recentProducts.length > 0 ? 
                recentProducts.map(product => `
                    <div style="display: flex; justify-content: space-between; padding: 15px; border-bottom: 1px solid #eee;">
                        <div>
                            <strong>${getProductName(product.meatType, product.cutType)}</strong>
                            <div style="color: var(--gray); font-size: 0.9em;">${product.code}</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-weight: bold;">S/. ${product.totalValue}</div>
                            <div style="color: var(--gray); font-size: 0.9em;">${product.purchaseDate}</div>
                        </div>
                    </div>
                `).join('') : 
                '<div style="text-align: center; padding: 30px; color: var(--gray);">No hay actividad reciente</div>';
        }
        
        function updateHeaderStats() {
            const inventory = JSON.parse(localStorage.getItem('meatControlInventory') || '[]');
            const totalProducts = inventory.length;
            const totalValue = inventory.reduce((sum, product) => sum + parseFloat(product.totalValue), 0);
            const expiringSoon = inventory.filter(product => getProductStatus(product.expiryDate) === 'warning').length;
            
            document.getElementById('totalProducts').textContent = totalProducts;
            document.getElementById('totalValue').textContent = `S/. ${totalValue.toFixed(2)}`;
            document.getElementById('expiringSoon').textContent = expiringSoon;
            
            // Obtener escaneos de hoy
            const today = new Date().toISOString().split('T')[0];
            const scanHistory = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            const todayScans = scanHistory.filter(scan => scan.date === today).length;
            document.getElementById('activeScans').textContent = todayScans;
        }
        
        function showAlert(message, type) {
            const alertClass = type === 'success' ? 'alert-success' : 
                              type === 'error' ? 'alert-error' : 'alert-warning';
            
            const alertIcon = type === 'success' ? 'fa-check-circle' : 
                            type === 'error' ? 'fa-exclamation-circle' : 'fa-exclamation-triangle';
            
            const alert = document.createElement('div');
            alert.className = `alert ${alertClass}`;
            alert.innerHTML = `
                <i class="fas ${alertIcon}"></i>
                <span>${message}</span>
            `;
            
            // Insertar al inicio del contenido principal
            const main = document.querySelector('.app-main');
            main.insertBefore(alert, main.firstChild);
            
            // Remover después de 5 segundos
            setTimeout(() => {
                alert.remove();
            }, 5000);
        }
        
        // Funciones del escáner (simplificadas para este ejemplo)
        function initScanner() {
            alert('Iniciando escáner... En una implementación real, esto activaría la cámara para escanear códigos de barras.');
        }
        
        function stopScanner() {
            alert('Deteniendo escáner...');
        }
        
        function toggleFocus() {
            alert('Alternando enfoque automático...');
        }
        
        function toggleFlash() {
            alert('Alternando flash...');
        }
        
        // Funciones de inventario
        function loadInventory() {
            const inventory = JSON.parse(localStorage.getItem('meatControlInventory') || '[]');
            const inventoryList = document.getElementById('inventoryList');
            
            if (inventory.length === 0) {
                inventoryList.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px;">
                        <i class="fas fa-box-open" style="font-size: 4em; color: var(--gray); margin-bottom: 20px;"></i>
                        <h3 style="color: var(--gray); margin-bottom: 15px;">No hay productos en el inventario</h3>
                        <p style="color: var(--gray); margin-bottom: 30px;">Comienza agregando tu primer producto usando la pestaña "Crear Productos"</p>
                        <button class="btn btn-success" onclick="showTab('create')">
                            <i class="fas fa-plus"></i> Crear Primer Producto
                        </button>
                    </div>
                `;
                return;
            }
            
            inventoryList.innerHTML = inventory.map(product => `
                <div class="product-card">
                    <div class="product-header">
                        <div>
                            <h4>${getProductName(product.meatType, product.cutType)}</h4>
                            <div style="color: var(--gray); font-size: 0.9em; margin-top: 5px;">${product.code}</div>
                        </div>
                        <span class="product-type">${product.meatType}</span>
                    </div>
                    
                    <div class="product-details-grid">
                        <div class="product-detail">
                            <span class="detail-label">Peso</span>
                            <span class="detail-value">${product.weight} kg</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Precio Compra</span>
                            <span class="detail-value">S/. ${product.purchasePrice}/kg</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Precio Venta</span>
                            <span class="detail-value">S/. ${product.salePrice}/kg</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Valor Total</span>
                            <span class="detail-value">S/. ${product.totalValue}</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Proveedor</span>
                            <span class="detail-value">${product.supplier || 'No especificado'}</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Compra</span>
                            <span class="detail-value">${product.purchaseDate}</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Vencimiento</span>
                            <span class="detail-value">${product.expiryDate}</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">Ganancia</span>
                            <span class="detail-value">S/. ${product.profit}</span>
                        </div>
                    </div>
                    
                    <div class="product-footer">
                        <div class="product-status ${getStatusClass(product.status)}">
                            <i class="fas fa-circle"></i> ${getStatusText(product.status)}
                        </div>
                        <div class="product-actions">
                            <button class="action-btn action-view" onclick="viewProduct('${product.code}')">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn action-edit" onclick="editProduct('${product.code}')">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn action-delete" onclick="deleteProduct('${product.code}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function getStatusClass(status) {
            switch(status) {
                case 'active': return 'status-active';
                case 'warning': return 'status-warning';
                case 'expired': return 'status-expired';
                default: return 'status-active';
            }
        }
        
        function getStatusText(status) {
            switch(status) {
                case 'active': return 'Activo';
                case 'warning': return 'Por Vencer';
                case 'expired': return 'Vencido';
                default: return 'Activo';
            }
        }
        
        function viewProduct(code) {
            alert(`Viendo producto: ${code}`);
            // En una implementación real, esto mostraría los detalles completos del producto
        }
        
        function editProduct(code) {
            alert(`Editando producto: ${code}`);
            // En una implementación real, esto cargaría el producto en el formulario de edición
        }
        
        function deleteProduct(code) {
            if (confirm('¿Estás seguro de que deseas eliminar este producto?')) {
                let inventory = JSON.parse(localStorage.getItem('meatControlInventory') || '[]');
                inventory = inventory.filter(product => product.code !== code);
                localStorage.setItem('meatControlInventory', JSON.stringify(inventory));
                
                loadInventory();
                updateHeaderStats();
                showAlert('Producto eliminado exitosamente', 'success');
            }
        }
        
        function searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            alert(`Buscando: ${searchTerm}`);
            // En una implementación real, esto filtraría los productos
        }
        
        function filterProducts() {
            const typeFilter = document.getElementById('typeFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            alert(`Filtrando por tipo: ${typeFilter}, estado: ${statusFilter}`);
            // En una implementación real, esto aplicaría los filtros
        }
        
        function exportInventory() {
            alert('Exportando inventario...');
            // En una implementación real, esto generaría un archivo CSV o Excel
        }
        
        function clearInventory() {
            if (confirm('¿Estás seguro de que deseas limpiar todo el inventario? Esta acción no se puede deshacer.')) {
                localStorage.removeItem('meatControlInventory');
                loadInventory();
                updateHeaderStats();
                showAlert('Inventario limpiado exitosamente', 'success');
            }
        }
        
        function loadReports() {
            // En una implementación real, esto cargaría reportes detallados
            document.getElementById('reportSummary').innerHTML = '<p>Reportes detallados se cargarán aquí.</p>';
            document.getElementById('expiringProducts').innerHTML = '<p>Productos por vencer se listarán aquí.</p>';
            document.getElementById('valueByCategory').innerHTML = '<p>Valor por categoría se mostrará aquí.</p>';
            document.getElementById('movementHistory').innerHTML = '<p>Historial de movimientos se mostrará aquí.</p>';
        }
        
        function backupData() {
            alert('Respaldando datos...');
            // En una implementación real, esto descargaría un archivo de respaldo
        }
        
        function restoreData() {
            alert('Restaurando datos...');
            // En una implementación real, esto permitiría cargar un archivo de respaldo
        }
        
        function resetSystem() {
            if (confirm('¿Estás seguro de que deseas restablecer todo el sistema? Se perderán todos los datos.')) {
                localStorage.clear();
                loadInventory();
                updateHeaderStats();
                showAlert('Sistema restablecido exitosamente', 'success');
            }
        }
        
        // Funciones adicionales para completar la interfaz
        function loadTemplate() {
            alert('Cargando plantilla...');
        }
        
        function shareProduct() {
            alert('Compartiendo producto...');
        }
        
        function viewProductDetails() {
            alert('Viendo detalles del producto...');
        }
        
        function editScannedProduct() {
            alert('Editando producto escaneado...');
        }
    </script>
</body>
</html>
